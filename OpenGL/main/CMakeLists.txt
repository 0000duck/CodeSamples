Project(OGLMAIN)

File (GLOB SOURCES ${CMAKE_CURRENT_SOURCE_DIR}/*.cxx)
File (GLOB HEADERS ${CMAKE_CURRENT_SOURCE_DIR}/*.hxx)

File (GLOB UI_FILES ${CMAKE_CURRENT_SOURCE_DIR}/*.ui)

If (UI_FILES)
  Qt4_Wrap_Ui (UI_SRCS ${UI_FILES})
  List (APPEND SOURCES ${UI_SRCS})
  List (APPEND SOURCES ${UI_FILES})
EndIf (UI_FILES)

If (HEADERS)
  Qt4_Wrap_Cpp (MOC_SRCS ${HEADERS})
  List (APPEND SOURCES ${MOC_SRCS})
EndIf (HEADERS)

Add_Library (${OGL_MAIN_LIB} SHARED ${SOURCES} ${HEADERS})

Set_Target_Properties (
  ${OGL_MAIN_LIB} PROPERTIES 
  DEBUG_POSTFIX d
  )

Target_Link_Libraries (
  ${OGL_MAIN_LIB}
  ${QT_QTCORE_LIBRARIES}
  ${QT_QTGUI_LIBRARIES}
  ${QT_QTOPENGL_LIBRARIES}
  )
